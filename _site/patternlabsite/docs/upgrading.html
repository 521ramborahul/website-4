<h1 id="upgrading-pattern-lab">Upgrading Pattern Lab</h1>

<p>To upgrade the PHP version of Pattern Lab do the following:</p>

<ol>
  <li><strong>Important:</strong> Make a back-up of <code>source/</code>. Also see the note below about upgrading pre-v0.7.0 installs.</li>
  <li><a href="https://github.com/pattern-lab/patternlab-php/releases">Download the latest release</a> of the PHP version of Pattern Lab.</li>
  <li>Copy the <code>core/</code> directory from your downloaded edition and copy it into your project.</li>
  <li>If you’re using Mac OS X open <code>core/scripts/</code> and double-click on <code>generateSite.command</code>. If you’re using Windows or Linux you will need to use <a href="/docs/command-line.html">the command line options</a>.</li>
  <li>Double-check that your files are intact in <code>source/</code>.</li>
</ol>

<p>During the upgrade process the PHP version of Pattern Lab will run migrations to move or add any files that are required for the new edition to work as well as copy any of your configuration options.</p>

<h2 id="a-note-about-upgrades-for-pre-v070-editions-of-pattern-lab">A Note About Upgrades for pre-v0.7.0 Editions of Pattern Lab</h2>

<p>By default the v0.7.0+ editions of the PHP version of Pattern Lab will clean out <code>public/</code> and replace it with the files from <code>source/</code>. This is the expected behavior. Some users may have manually disabled this feature in pre-v0.7.0 editions. To make sure your files in <code>public/</code> are saved do the following:</p>

<ol>
  <li>Make a back-up of <code>public/</code>.</li>
  <li>Upgrade using the instructions above.</li>
  <li><a href="/docs/advanced-clean-public.html">turn off <code>cleanPublic</code> via the new configuration option</a>.</li>
  <li>replace <code>public/</code> with your back-up</li>
  <li>manually copy <code>core/styleguide/</code> to <code>public/styleguide/</code>. </li>
</ol>

<p>Future upgrades will respect your new <code>cleanPublic</code> setting. You can also drop your public files in <code>source/</code> and not worry about steps #3-5 above.</p>

<p>If you edited the pattern header and footer found in <code>source/_patternlab-files/pattern-header-footer</code> you’ll want to copy those changes to <code>source/_patterns/00-atoms/00-meta</code> once you’ve completed the upgrade. <code>00-meta</code> is <a href="/docs/pattern-header-footer.html">the new location for the pattern header and footer</a>.</p>

<h2 id="cleaning-up-folders-from-pre-v070-editions">Cleaning Up Folders from pre-v0.7.0 Editions</h2>

<p>If you want to you can clean-up some of the directories that are left-over after upgrading pre-v0.7.0 editions of the PHP version of Pattern Lab. You can delete the following as they reference old paths or are no longer used:</p>

<ul>
  <li><code>builder/</code></li>
  <li><code>listeners/</code></li>
  <li><code>scripts/</code></li>
  <li><code>source/_patternlab-files/</code></li>
</ul>
