<!doctype html>
<html lang="en">
<head>
  <title>Watching for Changes and Auto Regenerating Patterns | Pattern Lab</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width" />
  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="../../css/prism.css" media="all" />
</head>

<body class="docs">
    <header class="header" role="banner">

    <a href="/" class="logo" rel="home"><span class="atom logo__icon"></span><span class="logo__text">Pattern Lab</span></a>

    <nav class="nav" role="navigation">
		<button class="nav__btn" href="#nav-list">Menu</button>

        <ul class="nav__list" id="nav__list">
		    <li class="nav__item"><a href="/docs/index.html" class="nav__link">Documentation</a></li>
		    <li class="nav__item"><a href="http://styleguides.io/" rel="external" class="nav__link" target="_blank">Resources</a></li>
		    <li class="nav__item"><a href="http://demo.patternlab.io" target="_blank" class="nav__link">Demo</a></li>
		    <li class="nav__item"><a href="https://github.com/pattern-lab/patternlab-php" rel="external" target="blank" class="nav__link">On Github</a></li>
		</ul>
	</nav>

</header><!--end .header-->

<main role="main">

    <section class="banner">
	    <h1 class="banner__title">Watching for Changes and Auto Regenerating Patterns</h1>
    </section>
    <div class="language-toggle">
        <ul class="tabs">
	        
	        <li class="tabs__item"><a class="tabs__link"
href="#php">php</a></li>
		    
	        <li class="tabs__item"><a class="tabs__link"
href="#node">node</a></li>
		    
	    </ul>
    </div>
    <div class="guts">
        <div class="l-two-col">
	  		<div class="content">
	  			<!--- start php -->

<div class="tabs__panel" id="php">
<h2 class="language-title">php</h2>


<p>The PHP version of Pattern Lab has the ability to watch for changes to patterns and select files. When these files change, it will automatically rebuild the entire Pattern Lab website. You simply make your changes, save the file, and the PHP version of Pattern Lab will take care of the rest.</p>

<h2>How to Start the Watch</h2>

<p>To start the watch service on Mac OS X you can do the following:</p>

<ol>
<li>Open <code>core/scripts/</code></li>
<li>Double-click <code>startWatcher.command</code></li>
</ol>

<p>For Linux and Windows users you can start the watch from the command line. To do so open your command prompt and navigate to the root of the <code>patternlab-php</code> directory. Type:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">php core/builder.php -w
</code></pre></div>
<h2>How to Start the Watch &amp; Auto-Reload Server at the Same Time</h2>

<p>Rather than manually refreshing your browser when your patterns or CSS change you can have the PHP version of Pattern Lab auto-reload your browser window for you when it&#39;s in watch mode. To start the watch and auto-reload services together on Mac OS X you can do the following:</p>

<ol>
<li>Open <code>core/scripts/</code></li>
<li>Double-click <code>startWatcherWithAutoReload.command</code></li>
<li>Refresh the Pattern Lab site</li>
</ol>

<p>For Linux and Windows users you can start the watch from the command line. To do so open your command prompt and navigate to the root of the <code>patternlab-php</code> directory. Type:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">php core/builder.php -wr
</code></pre></div>
<h2>How to Stop the Watch</h2>

<p>To stop watching files on Mac OS X you can press<code>CTRL+C</code> in the Terminal window where the process is running. If you&#39;ve used the method above to start the auto-reload server it will also shut down when using <code>CTRL+C</code>.</p>

<h2>The Default Files That Are Watched</h2>

<p>By default, the PHP version of Pattern Lab monitors the following files:</p>

<ul>
<li>all of the patterns under <code>source/_patterns</code></li>
<li>all of the JSON files under <code>source/_data/</code></li>
<li>any directory in <code>source/</code> without an <code>_</code> (underscore) or that doesn&#39;t match a directory name found in the <code>id</code> variable in <code>config/config.ini</code></li>
<li>any file in <code>source/</code> with a file extension that doesn&#39;t match one found in the <code>ie</code> variable in <code>config/config.ini</code></li>
</ul>

<h2>Ignoring Other Directories &amp; File Extensions</h2>

<p>Instructions on how to ignore assets in other directories or with other file extensions can be found in &quot;<a href="/docs/pattern-managing-assets.html">Managing Assets for a Pattern</a>&quot;.</p>


</div>

<!--- end php -->

<!--- start node -->

<div class="tabs__panel" id="node">
<h2 class="language-title">node</h2>


<p>The Node version of Pattern Lab has the ability to watch for changes to patterns and select files. When these files change, it will automatically rebuild the entire Pattern Lab website. You simply make your changes, save the file, and the Node version of Pattern Lab will take care of the rest.</p>

<h2>How to Start the Watch and Self-Host the Pattern Lab Website</h2>

<p>The watch configuration also tells Pattern Lab Node what files to reload when changes are made. Here&#39;s the excerpt from the <a href="https://github.com/pattern-lab/patternlab-node/blob/master/Gruntfile.js">Gruntfile</a> again:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">watch: {
  all: {
    files: [
      &#39;source/css/**/*.css&#39;,
      &#39;public/styleguide/css/*.css&#39;,
      &#39;source/_patterns/**/*.mustache&#39;,
      &#39;source/_patterns/**/*.json&#39;,
      &#39;source/_data/*.json&#39;
    ],
    tasks: [&#39;default&#39;]
  },
  patterns: {
    files: [
      &#39;source/_patterns/**/*.mustache&#39;,
      &#39;source/_patterns/**/*.json&#39;,
      &#39;source/_data/*.json&#39;
    ],
    tasks: [&#39;default&#39;]
  }
},
</code></pre></div>
<p>By default, running <code>grunt serve</code> or <code>gulp serve</code> will compile the Pattern Lab website and open it at <a href="http://localhost:3000">http://localhost:3000</a> on your default browser via the excellent <a href="http://www.browsersync.io/docs/">BrowserSync</a> library. This is the recommended way to launch Pattern Lab Node versus using the filesystem.</p>

<p>BrowserSync is a tool with a lot of depth, but Pattern Lab Node ships with the following task configurations inside the <a href="https://github.com/pattern-lab/patternlab-node/blob/master/Gruntfile.js">Gruntfile</a>:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">browserSync: {
  dev: {
    options: {
      server:  &#39;./public&#39;,
      watchTask: true,
      plugins: [
        {
          module: &#39;bs-html-injector&#39;,
          options: {
            files: &#39;./public/index.html&#39;
          }
        }
      ]
    }
  }
},
bsReload: {
  css: &#39;./public/**/*.css&#39;
}
</code></pre></div>
<h2>How to Stop the Watch</h2>

<p>To stop watching files on Mac OS X and Windows you can press<code>CTRL+C</code> in the command line window where the process is running.</p>

<h2>The Default Files That Are Watched</h2>

<p>By default, the Node version of Pattern Lab monitors the following files:</p>

<ul>
<li>all of the pattern templates under <code>source/_patterns/</code></li>
<li>all of the JSON files under <code>source/_patterns/</code></li>
<li>all of the JSON files under <code>source/_data/</code></li>
<li>all of the CSS files under <code>source/css/</code></li>
<li>all of the CSS files under <code>public/styleguide/css/</code></li>
</ul>

<p>You may also uncomment the scss statements throughout the Gruntfile or Gulpfile to utilize the shipped CSS preprocessor configuration should you desire.</p>


</div>

<!--- end node -->

	    	</div><!--end .content-->
	
			<div class="sidebar">
				<nav class="docs-nav">
	<ul>
		<li class="docs-nav-section">
			<h4 class="docs-nav-title">Getting Started</h4>
			<ul class="link-list">
	<li><a href="/docs/requirements.html">Requirements</a></li>
	<li><a href="/docs/installation.html">Installing</a></li>
	<li><a href="/docs/upgrading.html">Upgrading</a></li>
	<li><a href="/docs/first-run.html">Generating for the first time</a></li>
	<li><a href="/docs/editing-source-files.html">Editing source files</a></li>
	<li><a href="/docs/command-line.html">Using the command line options</a></li>
	<li><a href="/docs/command-prompt-windows.html">Command prompt on Windows</a></li>
</ul>

		</li>
		<li class="docs-nav-section">
			<h4 class="docs-nav-title">Working with Patterns</h4>
			<ul class="link-list">
	<li><a href="/docs/pattern-organization.html">How patterns are organized</a></li>
	<li><a href="/docs/pattern-add-new.html">Adding new patterns</a></li>
	<li><a href="/docs/pattern-reorganizing.html">Reorganizing patterns</a></li>
	<li><a href="/docs/pattern-including.html">Including patterns in one another</a></li>
	<li><a href="/docs/pattern-managing-assets.html">Managing assets for a pattern</a></li>
	<li><a href="/docs/pattern-header-footer.html">Modifying the pattern header &amp; footer</a></li>
	<li><a href="/docs/pattern-pseudo-patterns.html">Using pseudo-patterns</a></li>
	<li><a href="/docs/pattern-parameters.html">Using pattern parameters</a></li>
	<li><a href="/docs/pattern-states.html">Using pattern states</a></li>
	<li><a href="/docs/pattern-stylemodifier.html">Using styleModifiers</a></li>
	<li><a href="/docs/pattern-hiding.html">"Hiding" patterns in the navigation</a></li>
	<li><a href="/docs/pattern-adding-annotations.html">Adding annotations</a></li>
	<li><a href="/docs/pattern-mobile-view.html">Viewing patterns on a mobile device</a></li>
</ul>

		</li>
		<li class="docs-nav-section">
			<h4 class="docs-nav-title">Working with Data</h4>
			<ul class="link-list">
	<li><a href="/docs/data-json-mustache.html">Intro to JSON &amp; Mustache</a></li>
	<li><a href="/docs/data-pattern-specific.html">Pattern-specific data</a></li>
	<li><a href="/docs/data-link-variable.html">link variable</a></li>
	<li><a href="/docs/data-listitems.html">listItems variable</a></li>
</ul>

		</li>
		<li class="docs-nav-section">
			<h4 class="docs-nav-title">Advanced Features</h4>
			<ul class="link-list">
	<li class="selected"><a href="/docs/advanced-auto-regenerate.html">Watching for changes</a></li>
	<li><a href="/docs/advanced-reload-browser.html">Page auto-reload</a></li>
	<li><a href="/docs/advanced-page-follow.html">Page follow</a></li>
	<li><a href="/docs/advanced-keyboard-shortcuts.html">Keyboard shortcuts</a></li>
	<li><a href="/docs/pattern-linking.html">Special query string variables</a></li>
	<li><a href="/docs/advanced-clean-public.html">Stopping public/ from being cleaned</a></li>
	<li><a href="/docs/advanced-generating-css.html">Generating CSS</a></li>
	<li><a href="/docs/advanced-pattern-lab-nav.html">Modifying the Pattern Lab nav</a></li>
	<li><a href="/docs/advanced-config-options.html">Editing the configuration options</a></li>
	<li><a href="/docs/advanced-integration-with-compass.html">Integration with Compass</a></li>
	<li><a href="/docs/advanced-integration-with-grunt.html">Integration with Grunt</a></li>
	<li><a href="/docs/advanced-exporting-patterns.html">Exporting Patterns</a></li>
	<li><a href="/docs/advanced-running-as-an-npm-dependency.html">Running as an npm Dependency</a></li>
</ul>

		</li>
	</ul>
</nav>
			</div><!--end .sidebar-->
        </div><!--end .l-two-col-->
    </div><!--end .guts-->

    </main><!--end .main-->

<footer class="footer" role="contentinfo">
	<nav class="footer-nav" role="navigation">
	    <ul>
	        <li><a href="/">Home</a></li>
	        <li><a href="/docs/index.html">Documentation</a></li>
	        <li><a href="/resources.html">Resources</a></li>
	        <li class="right"><a href="http://demo.patternlab.io">Demo</a></li>
	        <li class="right"><a href="https://github.com/pattern-lab/patternlab-php" rel="external" target="blank">On Github</a></li>
	    </ul>
	</nav>

	<p class="footer__note">Pattern Lab will always be free and open source. <a href="https://github.com/pattern-lab" rel="external">Contribute!</a></p>

	<div class="atomic-design small">
        <img src="/assets/atomic-design.svg" alt="Atomic Design" />
    </div>
    
</footer><!--end footer-->

<script type="text/javascript" src="../js/zepto.js"></script>
<script src="../js/prism.js"></script>
<script type="text/javascript" src="../js/nav.js"></script>
<script type="text/javascript" src="../js/init.js"></script>

<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-44021730-1', 'patternlab.io');
    ga('send', 'pageview');

</script>

<script type="text/javascript">
	  var _gauges = _gauges || [];
	  (function() {
	    var t   = document.createElement('script');
	    t.type  = 'text/javascript';
	    t.async = true;
	    t.id    = 'gauges-tracker';
	    t.setAttribute('data-site-id', '52334fc0108d7b6480000040');
	    t.src = '//secure.gaug.es/track.js';
	    var s = document.getElementsByTagName('script')[0];
	    s.parentNode.insertBefore(t, s);
	  })();
</script>

</body>
</html>

